{"ast":null,"code":"import { takeEvery, put } from \"redux-saga/effects\";\nimport { firestore, convertCollectionSnapShotToMap } from \"../../firebase/firebase.utils.js\";\nimport { fetchCollectionsSuccess, fetchCollectionsError } from \"./shop.action\";\nimport { ShopActionTypes } from \"./shop.types\";\nexport function* fetchCollectionAsync() {\n  const collectionRef = firestore.collection(\"collections\");\n  const snapshot = yield collectionRef.get();\n  const collectionMap = yield convertCollectionSnapShotToMap(snapshot);\n  yield put(); // collectionRef.get().then(async snapshot => {\n  //     const collectionMap = convertCollectionSnapShotToMap(snapshot);\n  //     dispatch(fetchCollectionsSuccess(collectionMap));\n  // })\n  // .catch(error => dispatch(fetchCollectionsError(error.message)));\n}\nexport function* fetchCollectionsStart() {\n  yield takeEvery(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["E:/files/React_works/Crown-clothes/clothes/src/redux/shop/shop.sagas.js"],"names":["takeEvery","put","firestore","convertCollectionSnapShotToMap","fetchCollectionsSuccess","fetchCollectionsError","ShopActionTypes","fetchCollectionAsync","collectionRef","collection","snapshot","get","collectionMap","fetchCollectionsStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,oBAA/B;AACA,SAASC,SAAT,EAAmBC,8BAAnB,QAAyD,kCAAzD;AAEA,SAASC,uBAAT,EAAiCC,qBAAjC,QAA8D,eAA9D;AACA,SAASC,eAAT,QAAgC,cAAhC;AAEA,OAAO,UAAUC,oBAAV,GAAgC;AAEnC,QAAMC,aAAa,GAAGN,SAAS,CAACO,UAAV,CAAqB,aAArB,CAAtB;AACA,QAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,QAAMC,aAAa,GAAG,MAAMT,8BAA8B,CAACO,QAAD,CAA1D;AACA,QAAMT,GAAG,EAAT,CALmC,CAOnC;AACA;AACA;AACA;AACA;AACH;AAED,OAAO,UAAUY,qBAAV,GAAiC;AACpC,QAAMb,SAAS,CACXM,eAAe,CAACQ,uBADL,EAEXP,oBAFW,CAAf;AAIH","sourcesContent":["import { takeEvery, put } from \"redux-saga/effects\";\r\nimport { firestore,convertCollectionSnapShotToMap } from \"../../firebase/firebase.utils.js\";\r\n\r\nimport { fetchCollectionsSuccess,fetchCollectionsError } from \"./shop.action\";\r\nimport { ShopActionTypes } from \"./shop.types\";\r\n\r\nexport function* fetchCollectionAsync(){\r\n\r\n    const collectionRef = firestore.collection(\"collections\");\r\n    const snapshot = yield collectionRef.get();\r\n    const collectionMap = yield convertCollectionSnapShotToMap(snapshot);\r\n    yield put()\r\n\r\n    // collectionRef.get().then(async snapshot => {\r\n    //     const collectionMap = convertCollectionSnapShotToMap(snapshot);\r\n    //     dispatch(fetchCollectionsSuccess(collectionMap));\r\n    // })\r\n    // .catch(error => dispatch(fetchCollectionsError(error.message)));\r\n}\r\n\r\nexport function* fetchCollectionsStart(){\r\n    yield takeEvery(\r\n        ShopActionTypes.FETCH_COLLECTIONS_START,\r\n        fetchCollectionAsync\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}